function e(e){const t=document.querySelector(".gallery"),n=JSON.parse(localStorage.getItem("genres")),a=e.map((e=>`<li class="gallery__item">\n                <article>\n                    <img class="article__image" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.original_title?e.original_title:e.title}" width="280" loading="lazy">\n                    <h1 class="article__description">${e.original_title?e.original_title:e.title}</h1>\n                    <p class="article__description-orange">\n                        <span class="pseudo-element">\n                            ${function(e,t){const n=e.map((e=>t.genres.filter((t=>t.id===e)).flatMap((e=>e.name))));return`${n.length>=3?n.slice(0,2).join(", ")+", Others":n.join(", ")}`}(e.genre_ids,n)}\n                        </span>\n                        <span>\n                            ${e.release_date.slice(0,4)}\n                        </span>\n                    </p>\n                </article>\n            </li>`)).join("");t.innerHTML=a}async function t(e){const t=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590",page:e});return await fetch(`https://api.themoviedb.org/3/trending/movie/day?${t}`).then((e=>e.json()))}function n(e){(async function(){const e=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590"});return await fetch(`https://api.themoviedb.org/3/genre/movie/list?${e}`).then((e=>e.json()))})().then((e=>{localStorage.setItem("genres",JSON.stringify(e))}))}!async function(){await n(),t(1).then((t=>{e(t.results)})).catch((e=>console.log(e))).finally((()=>console.log("Some logic")))}(),async function(e,t){const n=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590",page:t,query:e});return await fetch(`https://api.themoviedb.org/3/search/movie?${n}`).then((e=>e.json()))}("batman",1).then((e=>console.log(e.results)));
//# sourceMappingURL=index.074cdde2.js.map
