function t(t){const n=document.querySelector(".gallery"),e=JSON.parse(localStorage.getItem("genres")),i=t.map((t=>`<li class="gallery__item" data-id="${t.id}">\n                <article>\n                    <img class="article__image" src="${t.poster_path?"https://image.tmdb.org/t/p/w500"+t.poster_path:"https://img.freepik.com/free-vector/error-404-concept-for-landing-page_52683-20173.jpg?w=2000"}" alt="${t.original_title?t.original_title:t.title}" width="280" loading="lazy">\n                    <h1 class="article__description">${t.original_title?t.original_title:t.title}</h1>\n                    <p class="article__description-orange">\n                        <span class="pseudo-element">\n                            ${function(t,n){const e=t.map((t=>n.genres.filter((n=>n.id===t)).flatMap((t=>t.name))));return`${e.length>=3?e.slice(0,2).join(", ")+", Others":e.join(", ")}`}(t.genre_ids,e)}\n                        </span>\n                        <span>\n                            ${t.release_date.slice(0,4)}\n                        </span>\n                    </p>\n                </article>\n            </li>`)).join("");n.innerHTML=i}var n,e,i,a,o={};n=o,e="Spinner",i=function(){return l},a=function(t){return l=t},Object.defineProperty(n,e,{get:i,set:a,enumerable:!0,configurable:!0});var s=function(){return s=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},s.apply(this,arguments)},r={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},l=function(){function t(t){void 0===t&&(t={}),this.opts=s(s({},r),t)}return t.prototype.spin=function(t){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),c(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),t&&t.insertBefore(this.el,t.firstChild||null),function(t,n){var e=Math.round(n.corners*n.width*500)/1e3+"px",i="none";!0===n.shadow?i="0 2px 4px #000":"string"==typeof n.shadow&&(i=n.shadow);for(var a=function(t){for(var n=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,e=[],i=0,a=t.split(",");i<a.length;i++){var o=a[i].match(n);if(null!==o){var s=+o[2],r=+o[5],l=o[4],c=o[7];0!==s||l||(l=c),0!==r||c||(c=l),l===c&&e.push({prefix:o[1]||"",x:s,y:r,xUnits:l,yUnits:c,end:o[8]})}}return e}(i),o=0;o<n.lines;o++){var s=~~(360/n.lines*o+n.rotate),r=c(document.createElement("div"),{position:"absolute",top:-n.width/2+"px",width:n.length+n.width+"px",height:n.width+"px",background:p(n.fadeColor,o),borderRadius:e,transformOrigin:"left",transform:"rotate("+s+"deg) translateX("+n.radius+"px)"}),l=o*n.direction/n.lines/n.speed;l-=1/n.speed;var d=c(document.createElement("div"),{width:"100%",height:"100%",background:p(n.color,o),borderRadius:e,boxShadow:u(a,s),animation:1/n.speed+"s linear "+l+"s infinite "+n.animation});r.appendChild(d),t.appendChild(r)}}(this.el,this.opts),this},t.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},t}();function c(t,n){for(var e in n)t.style[e]=n[e];return t}function p(t,n){return"string"==typeof t?t:t[n%t.length]}function u(t,n){for(var e=[],i=0,a=t;i<a.length;i++){var o=a[i],s=d(o.x,o.y,n);e.push(o.prefix+s[0]+o.xUnits+" "+s[1]+o.yUnits+o.end)}return e.join(", ")}function d(t,n,e){var i=e*Math.PI/180,a=Math.sin(i),o=Math.cos(i);return[Math.round(1e3*(t*o+n*a))/1e3,Math.round(1e3*(-t*a+n*o))/1e3]}const h=new(0,o.Spinner)({lines:18,length:5,width:2,radius:8,scale:2,corners:.6,speed:.9,rotate:22,animation:"spinner-line-fade-default",direction:-1,color:"#ff6b08",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"});async function g(t){h.spin(document.querySelector(".gallery"));const n=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590",page:t});return await fetch(`https://api.themoviedb.org/3/trending/movie/day?${n}`).then((t=>t.json()))}function f(t){(async function(){const t=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590"});return await fetch(`https://api.themoviedb.org/3/genre/movie/list?${t}`).then((t=>t.json()))})().then((t=>{localStorage.setItem("genres",JSON.stringify(t))}))}const m={pagContainer:document.querySelector(".js-pagination")};let _;function b(t,n){if(!t||!n||1===n)return;let e="";const i=t-1,a=t-2,o=Number(t)+1,s=Number(t)+2;_=t,t>1&&(e+='<li class="pagination__item"><button class="previos">\n        &larr;</button>\n      </li>'),t>3&&(e+='<li class="pagination__item"><button class="pagination__btn">1</button></li>'),t>4&&(e+='<li class="pagination__item"><button class="pagination__dottes">...</button></li>'),t>2&&(e+=`<li class="pagination__item"><button class="pagination__btn">${a}</button></li>`),t>1&&(e+=`<li class="pagination__item"><button class="pagination__btn">${i}</button></li>`),e+=`<li class="pagination__item"><button class="pagination__btn active__btn">${t}</button></li>`,o<=n&&(e+=`<li class="pagination__item"><button class="pagination__btn">${o}</button></li>`),s<=n&&(e+=`<li class="pagination__item"><button class="pagination__btn">${s}</button></li>`),n>t+3&&(e+='<li class="pagination__item"><button class="pagination__dottes">...</button></li>'),n>t+2&&(e+=`<li class="pagination__item"><button class="pagination__btn">${n}</button></li>`),n>t&&(e+='<li class="pagination__item"><button class="next">&rarr;</button></li>'),m.pagContainer.innerHTML=e}m.pagContainer.addEventListener("click",(function(n){if("BUTTON"!==n.target.nodeName||"..."===n.target.textContent)return;_=n.target.classList.contains("previos")?Number(_)-1:n.target.classList.contains("next")?Number(_)+1:Number(n.target.textContent);g(_).then((n=>{t(n.results),b(_,n.total_pages)})).catch((t=>console.log(t))).finally((()=>{}))})),async function(){return await f(),await g(1)}().then((n=>{console.log(n),t(n.results),b(1,n.total_pages)})).catch((t=>console.log(t))).finally((()=>{h.stop()})),async function(t,n){const e=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590",page:n,query:t});return await fetch(`https://api.themoviedb.org/3/search/movie?${e}`).then((t=>t.json()))}("batman",1).then((t=>console.log(t)));
//# sourceMappingURL=index.d1436295.js.map
