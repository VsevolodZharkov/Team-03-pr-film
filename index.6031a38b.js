function t(t){const n=document.querySelector(".gallery"),a=JSON.parse(localStorage.getItem("genres")),i=t.map((t=>`<li class="gallery__item" data-id="${t.id}">\n                <article>\n                    <img class="article__image" src="${t.poster_path?"https://image.tmdb.org/t/p/w500"+t.poster_path:"https://img.freepik.com/free-vector/error-404-concept-for-landing-page_52683-20173.jpg?w=2000"}" alt="${t.original_title?t.original_title:t.title}" width="280" loading="lazy">\n                    <h1 class="article__description">${t.original_title?t.original_title:t.title}</h1>\n                    <p class="article__description-orange">\n                        <span class="pseudo-element">\n                            ${function(t,n){const a=t.map((t=>n.genres.filter((n=>n.id===t)).flatMap((t=>t.name))));return`${a.length>=3?a.slice(0,2).join(", ")+", Others":a.join(", ")}`}(t.genre_ids,a)}\n                        </span>\n                        <span>\n                            ${t.release_date.slice(0,4)}\n                        </span>\n                    </p>\n                </article>\n            </li>`)).join("");n.innerHTML=i}async function n(t){const n=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590",page:t});return await fetch(`https://api.themoviedb.org/3/trending/movie/day?${n}`).then((t=>t.json()))}function a(t){(async function(){const t=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590"});return await fetch(`https://api.themoviedb.org/3/genre/movie/list?${t}`).then((t=>t.json()))})().then((t=>{localStorage.setItem("genres",JSON.stringify(t))}))}const i={pagContainer:document.querySelector(".js-pagination")};let e;function o(t,n){if(!t||!n||1===n)return;let a="";const o=t-1,s=t-2,l=Number(t)+1,c=Number(t)+2;e=t,t>1&&(a+='<li class="pagination__item"><button class="previos">\n        &larr;</button>\n      </li>'),t>3&&(a+='<li class="pagination__item"><button class="pagination__btn">1</button></li>'),t>4&&(a+='<li class="pagination__item"><button class="pagination__dottes">...</button></li>'),t>2&&(a+=`<li class="pagination__item"><button class="pagination__btn">${s}</button></li>`),t>1&&(a+=`<li class="pagination__item"><button class="pagination__btn">${o}</button></li>`),a+=`<li class="pagination__item"><button class="pagination__btn active__btn">${t}</button></li>`,l<=n&&(a+=`<li class="pagination__item"><button class="pagination__btn">${l}</button></li>`),c<=n&&(a+=`<li class="pagination__item"><button class="pagination__btn">${c}</button></li>`),n>t+3&&(a+='<li class="pagination__item"><button class="pagination__dottes">...</button></li>'),n>t+2&&(a+=`<li class="pagination__item"><button class="pagination__btn">${n}</button></li>`),n>t&&(a+='<li class="pagination__item"><button class="next">&rarr;</button></li>'),i.pagContainer.innerHTML=a}i.pagContainer.addEventListener("click",(function(a){if("BUTTON"!==a.target.nodeName||"..."===a.target.textContent)return;a.target.classList.contains("previos")?e-=1:a.target.classList.contains("next")?e+=1:e=a.target.textContent;n(e).then((n=>{t(n.results),o(e,n.total_pages)}))})),async function(){return await a(),await n(1)}().then((n=>{console.log(n),t(n.results),o(1,n.total_pages)})).catch((t=>console.log(t))).finally((()=>console.log("Some logic"))),async function(t,n){const a=new URLSearchParams({api_key:"7a4cd4317772102a9b88ef6a54b71590",page:n,query:t});return await fetch(`https://api.themoviedb.org/3/search/movie?${a}`).then((t=>t.json()))}("batman",1).then((t=>console.log(t)));
//# sourceMappingURL=index.6031a38b.js.map
