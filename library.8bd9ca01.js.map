{"mappings":"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","sources":["src/js/library/getfromlocalstorage.js","src/js/library/createlistcards.js","src/js/library/lab-pag.js","src/js/library/lab-modal.js","src/js/library/openWatched.js","src/js/library/openQueue.js","src/js/library.js"],"sourcesContent":["function getMovieFromLocalStorage(key) {\n  //отримуємо фільм зі сховища\n  const storageValue = localStorage.getItem(key);\n  const dataMovie = JSON.parse(storageValue);\n  return dataMovie;\n}\n\nexport { getMovieFromLocalStorage };\n","/**\n * render markup with films\n * @param {array} films\n */\nfunction createMarkUpListFilm(page, films) {\n  let perPage = 20;\n\n  let startEl = (page - 1) * perPage;\n\n  let endEl = startEl + 20;\n\n  const gallery = document.querySelector('.gallery');\n  const genresArr = JSON.parse(localStorage.getItem('genres'));\n\n  let markup = '';\n  for (let i = startEl; i < endEl; i++) {\n    if (i < films.length) {\n      markup += `<li class=\"gallery__item\" data-id=\"${films[i].id}\">\n                <article>\n                    <img class=\"article__image\" src=\"${\n                      !films[i].poster_path\n                        ? 'https://img.freepik.com/free-vector/error-404-concept-for-landing-page_52683-20173.jpg?w=2000'\n                        : 'https://image.tmdb.org/t/p/w500' +\n                          films[i].poster_path\n                    }\" alt=\"${\n        films[i].title ? films[i].title : films[i].original_title\n      }\" width=\"280\" loading=\"lazy\">\n                    <h1 class=\"article__description\">${\n                      films[i].title ? films[i].title : films[i].original_title\n                    }</h1>\n                    <p class=\"article__description-orange\">\n                        <span class=\"pseudo-element\">\n                            ${\n                              getGeneres(films[i].genre_ids, genresArr)\n                                .length >= 3\n                                ? getGeneres(films[i].genre_ids, genresArr)\n                                    .slice(0, 2)\n                                    .join(', ') + ', Others...'\n                                : getGeneres(\n                                    films[i].genre_ids,\n                                    genresArr\n                                  ).join(', ')\n                                ? getGeneres(\n                                    films[i].genre_ids,\n                                    genresArr\n                                  ).join(', ')\n                                : 'NO DATA'\n                            }\n                        </span>\n                        <span class=\"article__description-year\">\n                            ${\n                              films[i].release_date\n                                ? films[i].release_date.slice(0, 4)\n                                : 'OUR ERA'\n                            }\n                        </span>\n                        <span class=\"modal__text-params-vote modal__text-params\">\n                        ${films[i].vote_average}           \n                        </span>\n                    </p>\n                </article>\n            </li>`;\n    }\n  }\n\n  gallery.innerHTML = markup;\n}\n\n/**\n * return  string with genres\n * @param {Arr} arr  of genres_ids\n * @param {obj} genres\n * @returns  array\n */\nfunction getGeneres(arr, genres) {\n  return arr.map(item => {\n    return genres.genres\n      .filter(elem => {\n        // console.log(elem.id === item);\n        return elem.id === item;\n      })\n      .flatMap(one => one.name);\n  });\n}\nexport { createMarkUpListFilm, getGeneres };\nexport { getVotes };\n","import { getMovieFromLocalStorage } from './getfromlocalstorage';\nimport { createMarkUpListFilm } from './createlistcards';\n// //----------------------------------------------------------------//\nconst refsPag = {\n  pagContainer: document.querySelector('.js-pagination'),\n};\n\nlet currentPage;\n\nfunction renderBtnPag(page, totalPages) {\n  if (!page || !totalPages || totalPages === 1) {\n    return;\n  }\n  let markup = '';\n\n  const beforeOnePage = page - 1;\n  const beforeTwoPage = page - 2;\n  const afterOnePage = Number(page) + 1;\n  const afterTwoPage = Number(page) + 2;\n  currentPage = page;\n\n  if (page > 1) {\n    markup += `<li class=\"pagination__item\"><button class=\"previos\">\n        &larr;</button>\n      </li>`;\n  }\n  if (page > 3) {\n    markup += `<li class=\"pagination__item\"><button class=\"pagination__btn\">1</button></li>`;\n  }\n  if (page > 4) {\n    markup += `<li class=\"pagination__item\"><button class=\"pagination__dottes\">...</button></li>`;\n  }\n  if (page > 2) {\n    markup += `<li class=\"pagination__item\"><button class=\"pagination__btn\">${beforeTwoPage}</button></li>`;\n  }\n  if (page > 1) {\n    markup += `<li class=\"pagination__item\"><button class=\"pagination__btn\">${beforeOnePage}</button></li>`;\n  }\n  markup += `<li class=\"pagination__item\"><button class=\"pagination__btn active__btn\">${page}</button></li>`;\n\n  if (afterOnePage <= totalPages) {\n    markup += `<li class=\"pagination__item\"><button class=\"pagination__btn\">${afterOnePage}</button></li>`;\n  }\n  if (afterTwoPage <= totalPages) {\n    markup += `<li class=\"pagination__item\"><button class=\"pagination__btn\">${afterTwoPage}</button></li>`;\n  }\n\n  if (totalPages > page + 3) {\n    markup += `<li class=\"pagination__item\"><button class=\"pagination__dottes\">...</button></li>`;\n  }\n  if (totalPages > page + 2) {\n    markup += `<li class=\"pagination__item\"><button class=\"pagination__btn\">${totalPages}</button></li>`;\n  }\n  if (totalPages > page) {\n    markup += `<li class=\"pagination__item\"><button class=\"next\">&rarr;</button></li>`;\n  }\n  refsPag.pagContainer.innerHTML = markup;\n}\n\n/////////////////////////////////////////////////////////////////\n// const key = \nfunction handlerPagination(totalPages, key) {\n  refsPag.pagContainer.addEventListener('click', onClickPagBtn);\n\n  function onClickPagBtn(event) {\n    if (\n      event.target.nodeName !== 'BUTTON' ||\n      event.target.textContent === '...'\n    ) {\n      return;\n    }\n\n    if (event.target.classList.contains('previos')) {\n      currentPage = Number(currentPage) - 1;\n    } else if (event.target.classList.contains('next')) {\n      currentPage = Number(currentPage) + 1;\n    } else {\n      currentPage = Number(event.target.textContent);\n    }\n    const films = getMovieFromLocalStorage(key);\n    renderBtnPag(currentPage, totalPages);\n    createMarkUpListFilm(currentPage, films);\n  }\n}\n\nexport { renderBtnPag, handlerPagination };\n","import { getGeneres } from './createlistcards';\nimport { getMovieFromLocalStorage } from './getfromlocalstorage';\nimport { createMarkUpListFilm } from './createlistcards';\nimport { renderDefalt } from '../library';\n\nconst refs = {\n  openGallery: document.querySelector('.gallery'),\n  closeBtn: document.querySelector('[data-modal-close]'),\n  backdrop: document.querySelector('[data-modal]'),\n  modal: document.querySelector('.modal__form'),\n  article: document.querySelector('.modal__form-card'),\n  body: document.querySelector('body'),\n};\n\nlet film;\nlet markUp = '';\nlet idFilm;\nlet keyOfLocalStrg;\n\nfunction showLabModal(key) {\n  keyOfLocalStrg = key;\n  film = getMovieFromLocalStorage(key);\n  refs.openGallery.addEventListener('click', onClickCard);\n}\n\nfunction onClickCard(event) {\n  if (event.target.nodeName === event.currentTarget.nodeName) {\n    return;\n  }\n  idFilm = event.target.closest('li').dataset.id;\n  console.log(idFilm);\n  createModalMarkup(film, idFilm);\n  refs.backdrop.classList.add('is-open');\n  refs.body.classList.add('ishidden');\n  document.addEventListener('click', onClickBackdrop);\n  document.addEventListener('keydown', onEscClick);\n}\n\nfunction createModalMarkup(arr, id) {\n  const filteredFilm = arr.filter(el => {\n    return el.id === Number(id);\n  });\n\n  const genresArr = JSON.parse(localStorage.getItem('genres'));\n  const {\n    title,\n    poster_path,\n    overview,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n  } = filteredFilm[0];\n\n  markUp = `\n      <img\n        class=\"modal__form-img\"\n        src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n        alt=\"\"\n      />\n      <div class=\"modal__descript\">\n        <h2 class=\"modal__title\">${title}</h2>\n\n        <table class=\"modal__descript-table\">\n          <tbody>\n            <tr>\n              <td class=\"modal__text-properties\">Vote / Votes</td>\n              <td class=\"modal__text-params\">\n                <span class=\"modal__text-params-vote\">${vote_average}</span> /\n                <span class=\"modal__text-params-votes\">${vote_count}</span>\n              </td>\n            </tr>\n            <tr>\n              <td class=\"modal__text-properties\">Popularity</td>\n              <td class=\"modal__text-params\">${popularity}</td>\n            </tr>\n            <tr>\n              <td class=\"modal__text-properties\">Original Title</td>\n              <td class=\"modal__text-params\">${original_title}</td>\n            </tr>\n            <tr>\n              <td class=\"modal__text-properties\">Genre</td>\n              <td class=\"modal__text-params modal__text-low\">${getGeneres(\n                filteredFilm[0].genre_ids,\n                genresArr\n              ).join(', ')}</td>\n            </tr>\n          </tbody>\n        </table>\n        <h3 class=\"modal__descript-titel\">About</h3>\n        <p class=\"modal__descript-text\">\n          ${overview}\n        </p>\n        <ul class=\"modal__button__list\">\n          <li>\n            <button class=\"modal__button__item-watched\" type=\"button\">remove from Watched</button>\n          </li>\n          <li><button class=\"modal__button__item-queue\" type=\"button\">remove from queue</button></li>\n        </ul>\n      </div>\n  `;\n\n  refs.article.innerHTML = markUp;\n  const btnWatched = document.querySelector('.modal__button__item-watched');\n  const btnQueue = document.querySelector('.modal__button__item-queue');\n\n  if (keyOfLocalStrg === 'queue') {\n    btnWatched.textContent = `add to Watched`;\n    btnQueue.textContent = `remove from queue`;\n    btnQueue.addEventListener('click', deleteFromLS);\n    btnWatched.addEventListener('click', addToLS);\n  } else {\n    btnWatched.textContent = `remove from Watched`;\n    btnQueue.textContent = `add to queue`;\n    btnWatched.addEventListener('click', deleteFromLS);\n    btnQueue.addEventListener('click', addToLS);\n  }\n}\n\nconst closeBtn = document.querySelector('.modal__btn');\n\ncloseBtn.addEventListener('click', onClickCloseBtn);\n\nfunction onClickCloseBtn(event) {\n  event.preventDefault();\n  refs.backdrop.classList.remove('is-open');\n  refs.body.classList.remove('ishidden');\n  removeListener();\n}\n\nfunction onClickBackdrop(event) {\n  if (event.target === refs.backdrop) {\n    refs.backdrop.classList.remove('is-open');\n    refs.body.classList.remove('ishidden');\n    removeListener();\n  }\n}\n\nfunction onEscClick(event) {\n  if (event.code === 'Escape') {\n    refs.backdrop.classList.remove('is-open');\n    refs.body.classList.remove('ishidden');\n    removeListener();\n  }\n}\n\nfunction removeListener() {\n  document.removeEventListener('keydown', onEscClick);\n  document.removeEventListener('click', onClickBackdrop);\n}\n\nfunction deleteFromLS(e) {\n  const films = getMovieFromLocalStorage(keyOfLocalStrg);\n  const index = films.findIndex(item => item.id === Number(idFilm));\n\n  films.splice(index, 1);\n\n  localStorage.setItem(keyOfLocalStrg, JSON.stringify(films));\n  createMarkUpListFilm(1, films);\n  refs.backdrop.classList.remove('is-open');\n  if (films.length === 0) {\n    renderDefalt();\n  }\n}\n\nfunction addToLS(e) {\n  if (keyOfLocalStrg === 'queue') {\n    console.log('here queue');\n    const filmsWatched = getMovieFromLocalStorage('watched');\n    const isSelectMovie = filmsWatched.find(item => item.id === Number(idFilm));\n    //если такой фильм есть\n    if (isSelectMovie) {\n      return;\n    }\n    //добавляем\n    const filmsQueue = getMovieFromLocalStorage('queue');\n    const selectFilm = filmsQueue.find(item => item.id === Number(idFilm));\n    filmsWatched.push(selectFilm);\n    localStorage.setItem('watched', JSON.stringify(filmsWatched));\n    console.log(e.target.textContent);\n    e.target.textContent = 'added';\n  } else if (keyOfLocalStrg === 'watched') {\n    console.log('here watch');\n    const filmsQueue = getMovieFromLocalStorage('queue');\n    const isSelectMovie = filmsQueue.find(item => item.id === Number(idFilm));\n    //если такой фильм есть\n    if (isSelectMovie) {\n      return;\n    }\n    //добавляем\n    const filmsWatched = getMovieFromLocalStorage('watched');\n    const selectFilm = filmsWatched.find(item => item.id === Number(idFilm));\n    filmsQueue.push(selectFilm);\n    localStorage.setItem('queue', JSON.stringify(filmsQueue));\n    e.target.textContent = 'added';\n  }\n}\n\n// function setToLocalStoregWatched(e) {\n//   console.log(e);\n//\n//   e.target.textContent = 'Dоne!';\n//   // e.target.setAttribute('disabled', 'disabled');\n// }\n// function setToLocalStoregQue(e) {\n//   console.log(e);\n//   const selectFilm = film.find(item => {\n//     return item.id === Number(idFilm);\n//   });\n//   setItemToLocalStorage('queue', selectFilm);\n//   e.target.textContent = 'Dоne!';\n//   // e.target.setAttribute('disabled', 'disabled');\n// }\n\n// function setItemToLocalStorage(key, objFilm) {\n//   if (!localStorage.getItem(key)) {\n//     const array = [];\n//     array.push(objFilm);\n//     localStorage.setItem(key, JSON.stringify(array));\n//   } else {\n//     const storageValue = localStorage.getItem(key);\n//     const dataMovie = JSON.parse(storageValue);\n\n//     const isInLocalStoreg = dataMovie.find(item => item.id === objFilm.id);\n//     console.log(isInLocalStoreg);\n//     if (!isInLocalStoreg) {\n//       dataMovie.push(objFilm);\n//       localStorage.setItem(key, JSON.stringify(dataMovie));\n//     }\n//   }\n// }\n\nexport { showLabModal };\n","import { getMovieFromLocalStorage } from './getfromlocalstorage';\nimport { createMarkUpListFilm } from './createlistcards';\nimport { renderBtnPag, handlerPagination } from './lab-pag';\nimport { showLabModal } from './lab-modal';\nimport { renderDefalt } from '../library';\n\nconst watched = document.querySelector('.js-watched');\nconst queue = document.querySelector('.js-queue');\n\nfunction openWatched() {\n  watched.classList.add('is-active');\n  queue.classList.remove('is-active');\n  renderDefalt();\n  const films = getMovieFromLocalStorage('watched');\n  if (!films || films.length === 0) {\n    return;\n  }\n  let perPage = 20;\n  let totalPages = Math.ceil(films.length / perPage);\n\n  //рендер карточек\n  createMarkUpListFilm(1, films);\n\n  //рендер пагинации\n  renderBtnPag(1, totalPages);\n  handlerPagination(totalPages, 'watched');\n  showLabModal('watched');\n}\n\nexport { openWatched };\n","import { getMovieFromLocalStorage } from './getfromlocalstorage';\nimport { createMarkUpListFilm } from './createlistcards';\nimport { renderBtnPag, handlerPagination } from './lab-pag';\nimport { showLabModal } from './lab-modal';\nimport { renderDefalt } from '../library';\n\n///--------------------------------------------------------------//\nconst watched = document.querySelector('.js-watched');\nconst queue = document.querySelector('.js-queue');\n\nfunction openQueue() {\n  watched.classList.remove('is-active');\n  queue.classList.add('is-active');\n  renderDefalt();\n  const films = getMovieFromLocalStorage('queue');\n  if (!films || films.length === 0) {\n    return;\n  }\n  let perPage = 20;\n  let totalPages = Math.ceil(films.length / perPage);\n\n  //рендер карточек\n  createMarkUpListFilm(1, films);\n\n  //рендер пагинации\n  renderBtnPag(1, totalPages);\n  handlerPagination(totalPages, 'queue');\n  showLabModal('queue');\n}\n\nexport { openQueue };\n","import { getMovieFromLocalStorage } from './library/getfromlocalstorage';\nimport { createMarkUpListFilm } from './library/createlistcards';\nimport { renderBtnPag, handlerPagination } from './library/lab-pag';\nimport { showLabModal } from './library/lab-modal';\nimport { openWatched } from './library/openWatched';\nimport { openQueue } from './library/openQueue';\n\n// //----------------------------------------------------------------//\nconst refs = {\n  btnWatched: document.querySelector('.js-watched'),\n  btnQueue: document.querySelector('.js-queue'),\n  gallery: document.querySelector('.gallery'),\n  pagination: document.querySelector('.js-pagination'),\n};\n\nlet KEY_QUEUE = 'queue';\nlet KEY_WATCHED = 'watched';\n\nrefs.btnQueue.classList.add('is-active');\n//активная кнопка\nrefs.btnWatched.addEventListener('click', openWatched);\nrefs.btnQueue.addEventListener('click', openQueue);\n\n// фильми из локалстораге\nconst films = getMovieFromLocalStorage('queue');\nif (!films || films.length === 0) {\n  renderDefalt();\n} else {\n  renderCards(films);\n}\n\n// если пусто в локал сторедж\nfunction renderDefalt() {\n  refs.gallery.innerHTML = `<li class=\"default\">\n        <p class=\"message\">Sorry, there is nothing here yet.</p>\n        <img\n          src=\"https://img.freepik.com/free-photo/awkward-girl-shrugging-shoulders-with-apologizing-face-expression-looking-clueless-say-sorry-showing-empty-hands-has-nothing-standing-over-white-background_176420-48867.jpg\"\n          alt=\"Empty\"\n        />\n      </li>`;\n}\n\n// если есть данные в локал сторедж по ключу \"queue\"\nfunction renderCards(films) {\n  let perPage = 20;\n  let totalPages = Math.ceil(films.length / perPage);\n  // рендер карточек\n  createMarkUpListFilm(1, films);\n\n  // рендер пагинации\n  renderBtnPag(1, totalPages);\n  handlerPagination(totalPages, KEY_QUEUE);\n  showLabModal(KEY_QUEUE);\n}\n\nexport { renderDefalt };\n"],"names":["$8dc8f2b170cc7c40$export$b4d9d7f244cc0a05","key","storageValue","localStorage","getItem","JSON","parse","$2c603aaf6541f60e$export$4a89087502c5be7d","page","films","startEl","endEl","gallery","document","querySelector","genresArr","markup","i","length","concat","id","poster_path","title","original_title","$2c603aaf6541f60e$export$50e233691ff9d4c9","genre_ids","slice","join","release_date","vote_average","innerHTML","arr","genres","map","item","filter","elem","flatMap","one","name","$532517ab081f2363$var$currentPage","$532517ab081f2363$var$refsPag","pagContainer","$532517ab081f2363$export$f815f55db4d265b7","totalPages","beforeOnePage","beforeTwoPage","afterOnePage","Number","afterTwoPage","$532517ab081f2363$export$ebec724813b6a24b","addEventListener","event","target","nodeName","textContent","classList","contains","$b01b7fecc197fe36$var$film","$b01b7fecc197fe36$var$idFilm","$b01b7fecc197fe36$var$keyOfLocalStrg","$b01b7fecc197fe36$var$refs","openGallery","closeBtn","backdrop","modal","article","body","$b01b7fecc197fe36$var$markUp","$b01b7fecc197fe36$export$2d78b08ad22bd050","$b01b7fecc197fe36$var$onClickCard","currentTarget","closest","dataset","console","log","filteredFilm","el","ref","overview","vote_count","popularity","btnWatched","btnQueue","$b01b7fecc197fe36$var$deleteFromLS","$b01b7fecc197fe36$var$addToLS","$b01b7fecc197fe36$var$createModalMarkup","add","$b01b7fecc197fe36$var$onClickBackdrop","$b01b7fecc197fe36$var$onEscClick","remove","$b01b7fecc197fe36$var$removeListener","code","removeEventListener","e","index","findIndex","splice","setItem","stringify","$93effc6fc56091ad$export$40c1b54f724d4f0","filmsWatched","find","selectFilm","push","filmsQueue1","selectFilm1","preventDefault","$ea92cdda7fcd1fcb$var$watched","$ea92cdda7fcd1fcb$var$queue","$18e9dd0995975420$var$watched","$18e9dd0995975420$var$queue","$93effc6fc56091ad$var$refs","pagination","$93effc6fc56091ad$var$KEY_QUEUE","Math","ceil","films1","$93effc6fc56091ad$var$films"],"version":3,"file":"library.8bd9ca01.js.map"}